<div class="trip-overview">

  <p>Date: {{dash.trip.info.date | date : 'MMM d, y'}}</p>
  <p>Location: {{dash.trip.info.location}}</p>
  <p>Nights: {{dash.trip.info.duration}}</p>
  <ul class="members-list">Members:
    <li class="trip-member" ng-repeat="user in dash.trip.users track by $index">
      <span class="user-profile-link" ng-click="dash.getUserProfile($index)">
        {{user.username}}
      </span>
    </li>
  </ul>
  <div class="message-board">
    Message Board:
    <div class="add-message">
      <form>
        <input class="message-input" type="text" ng-model="dash.addMessage" placeholder="Insert Message" />
        <span class="message-count">
          <span ng-if="dash.addMessage.length">{{dash.addMessage.length}}/250</span>
          <span ng-if="!dash.addMessage.length">0/250</span>
        </span>
        <span class="message-button">
          <button class="btn btn-info" ng-click="dash.sendMessage(dash.addMessage)">
            Send!
          </button>
        </span>
      </form>
    </div>
    <div class="trip-messages">
      <span class="messages-age">Newer</span>
      <p class="message-content" ng-repeat="message in dash.trip.messages | orderBy:'id':true">
        <span class="username">{{message.username}}:</span>
        {{message.message}}
        <span class="delete-message" ng-if="dash.userData.currentUser.id === message.user_id">
          <button ng-click="dash.deleteMessage(message.id)">Delete</button>
        </span>
      </p>
      <span class="messages-age">Older</span>
    </div>
  </div>



  <div class="profile" ng-show="dash.profileView"  ng-click="dash.closeProfile()">
    <div class="profile-info">
      <ul ng-click="dash.preventClose()">
        <li>{{dash.tempProfile.username}}</li>
        <li>{{dash.tempProfile.phone}}</li>
        <li>{{dash.tempProfile.email}}</li>
      </ul>
      <button class="btn">Close</button>
    </div>
  </div>


</div>
